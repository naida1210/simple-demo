{"ast":null,"code":"import _regeneratorRuntime from\"/Users/naidaislam/Desktop/PET/CRUD/demo2/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/naidaislam/Desktop/PET/CRUD/demo2/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/naidaislam/Desktop/PET/CRUD/demo2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useEffect}from\"react\";import{useState}from\"react\";import{Link}from\"react-router-dom\";import\"../App.css\";import{axiosInstance}from\"./config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Notes=function Notes(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];useEffect(function(){var fetchAllToDos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axiosInstance.get(\"/notes\");case 3:res=_context.sent;setNotes(res.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchAllToDos(){return _ref.apply(this,arguments);};}();fetchAllToDos();},[]);console.log(notes);var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axiosInstance.delete(\"/notes/\".concat(id));case 3:window.location.reload();_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function handleDelete(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"containerNotepage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"NotePage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"notes animationDelete\",children:notes.map(function(note){return/*#__PURE__*/_jsxs(\"div\",{className:\"note\",children:[/*#__PURE__*/_jsx(\"p\",{children:note.cover}),/*#__PURE__*/_jsx(\"h2\",{children:note.title}),/*#__PURE__*/_jsx(\"h4\",{children:note.desc}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:function onClick(){return handleDelete(note.id);},children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{className:\"update\",children:/*#__PURE__*/_jsx(Link,{to:\"/update/\".concat(note.id),style:{color:\"inherit\",textDecoration:\"none\"},children:\"Update\"})})]},note.id);})}),/*#__PURE__*/_jsx(\"button\",{className:\"addNote\",children:/*#__PURE__*/_jsx(Link,{to:\"/add\",style:{color:\"inherit\",textDecoration:\"none\"},children:\"Add new Plan\"})})]})});};export default Notes;","map":{"version":3,"names":["React","useEffect","useState","Link","axiosInstance","Notes","notes","setNotes","fetchAllToDos","get","res","data","console","log","handleDelete","id","delete","window","location","reload","map","note","cover","title","desc","color","textDecoration"],"sources":["/Users/naidaislam/Desktop/PET/CRUD/demo2/client/src/pages/Notes.jsx"],"sourcesContent":["import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport \"../App.css\";\nimport { axiosInstance } from \"./config\";\n\n\n\n\nconst Notes= () => {\n  const [notes, setNotes] = useState([]);\n \n\n\n  useEffect(() => {\n    const fetchAllToDos = async () => {\n      try {\n        const res = await axiosInstance.get(\"/notes\");\n        setNotes(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchAllToDos();\n  }, []);\n\n  console.log(notes);\n\n  const handleDelete = async (id) => {\n    try {\n      await axiosInstance.delete(`/notes/${id}`);\n      window.location.reload()\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n   <div className=\"containerNotepage\">\n   \n    <div className=\"NotePage\">\n      <div className=\"notes animationDelete\">\n        {notes.map((note) => (\n          <div key={note.id} className=\"note\">\n           \n            <p>{note.cover}</p>\n            <h2>{note.title}</h2>\n            <h4>{note.desc}</h4>\n            <button className=\"delete\" onClick={() => handleDelete(note.id)}>Delete</button>\n          \n            <button className=\"update\">\n              <Link\n                to={`/update/${note.id}`}\n                style={{ color: \"inherit\", textDecoration: \"none\" }}\n              >\n                Update\n              </Link>\n            </button>\n          </div>\n        ))}\n      </div>\n\n    <button className=\"addNote\">\n        <Link to=\"/add\" style={{ color: \"inherit\", textDecoration: \"none\" }}>\n          Add new Plan\n        </Link>\n      </button>\n    </div>\n    </div>\n  );\n};\n\nexport default Notes;"],"mappings":"+ZAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,QAAQ,KAAQ,OAAO,CAEhC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,YAAY,CACnB,OAASC,aAAa,KAAQ,UAAU,CAAC,wFAKzC,GAAMC,MAAK,CAAE,QAAPA,MAAK,EAAQ,CACjB,cAA0BH,QAAQ,CAAC,EAAE,CAAC,wCAA/BI,KAAK,eAAEC,QAAQ,eAItBN,SAAS,CAAC,UAAM,CACd,GAAMO,cAAa,4FAAG,mLAEAJ,cAAa,CAACK,GAAG,CAAC,QAAQ,CAAC,QAAvCC,GAAG,eACTH,QAAQ,CAACG,GAAG,CAACC,IAAI,CAAC,CAAC,+EAEnBC,OAAO,CAACC,GAAG,aAAK,CAAC,oEAEpB,kBAPKL,cAAa,0CAOlB,CACDA,aAAa,EAAE,CACjB,CAAC,CAAE,EAAE,CAAC,CAENI,OAAO,CAACC,GAAG,CAACP,KAAK,CAAC,CAElB,GAAMQ,aAAY,6FAAG,kBAAOC,EAAE,gKAEpBX,cAAa,CAACY,MAAM,kBAAWD,EAAE,EAAG,QAC1CE,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE,mFAExBP,OAAO,CAACC,GAAG,cAAK,CAAC,qEAEpB,kBAPKC,aAAY,6CAOjB,CAED,mBACC,YAAK,SAAS,CAAC,mBAAmB,uBAEjC,aAAK,SAAS,CAAC,UAAU,wBACvB,YAAK,SAAS,CAAC,uBAAuB,UACnCR,KAAK,CAACc,GAAG,CAAC,SAACC,IAAI,qBACd,aAAmB,SAAS,CAAC,MAAM,wBAEjC,mBAAIA,IAAI,CAACC,KAAK,EAAK,cACnB,oBAAKD,IAAI,CAACE,KAAK,EAAM,cACrB,oBAAKF,IAAI,CAACG,IAAI,EAAM,cACpB,eAAQ,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAE,yBAAMV,aAAY,CAACO,IAAI,CAACN,EAAE,CAAC,EAAC,oBAAgB,cAEhF,eAAQ,SAAS,CAAC,QAAQ,uBACxB,KAAC,IAAI,EACH,EAAE,mBAAaM,IAAI,CAACN,EAAE,CAAG,CACzB,KAAK,CAAE,CAAEU,KAAK,CAAE,SAAS,CAAEC,cAAc,CAAE,MAAO,CAAE,oBAG/C,EACA,GAdDL,IAAI,CAACN,EAAE,CAeX,EACP,CAAC,EACE,cAER,eAAQ,SAAS,CAAC,SAAS,uBACvB,KAAC,IAAI,EAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAE,CAAEU,KAAK,CAAE,SAAS,CAAEC,cAAc,CAAE,MAAO,CAAE,0BAE7D,EACA,GACL,EACA,CAEV,CAAC,CAED,cAAerB,MAAK"},"metadata":{},"sourceType":"module"}